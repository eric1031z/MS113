var status = 0;
var beauty = 0;
var price = 0;
var mface = Array(30540,30570,30590,30640,30660,30680,30700,30820,30860,30870,30950, 30990,32450, 32640,33070,33100,33220,33440,33500,33510,34070,34090,34320,34480,34640,36120,33720,33810,33760,33800,35010,35020,35030,35050,35070,35090,36140,36150,36180,36220,36230,36330,36520,35150,35180,35190,35200,35260,35280,35290,35300,35310,38440,35330,35360,35430,35440,35460,35470,35500,35510,35520,35530,35560,35570,35630,35650,35660,35680,35720,39140,39150,39170,39160,35590,35600,38970,39110,39130,35400,39180,37430,37470,37550,37900,37390,37290,37420,39960);
var fface = Array(37580,37610,37620,37630,37640,37650,37670,37680,37690,37700,37710,37720,37730,37740,37750,37760,37770,37780,37790,37800,37810,37820,37830,37840,37850,37860,37880,37910,37920,37940,37950,37960,37970,37980,37990,38000,38010,38020,38030,38040,38050,38060,38070,38090,38100,38110,38120,39160,38700,38730,38710,38950,38960,38970,38980,38990,39100,39110,39120,39130,38860,38900,38906,38907,34310, 34320, 34330, 34340, 34350, 34360, 34370, 34380, 34390, 34400, 34410, 34420, 34430, 34440, 34450, 34460, 34470, 34480, 34490, 34510, 34540, 34560, 34590, 34600, 34610, 34620, 34630, 34640, 34650, 34660, 34670, 34680, 34690, 34700, 34710, 34720, 34730, 34750, 34760, 34770, 34780, 34790, 34800, 34810, 34820, 34830, 34840, 34850, 34860, 34870, 34880, 34890, 34900, 34910, 34940, 34950, 34960, 34970, 34980, 34990, 37000, 37010, 37020, 37030, 37040, 37050, 37060, 37070, 37080, 37090, 37100, 37110, 37120, 37130, 37140,34870, 31030, 31040, 31050, 31060, 31070, 31080, 31090, 31100, 31110, 31120, 31130, 31140, 31150, 31160, 31170, 31180, 31190, 31200, 31210, 31220, 31230, 31240, 31250, 31260, 31270, 31280, 31290, 31300, 34880, 35440, 37040, 37110, 37210, 37230, 37340, 37380, 37400, 37450, 37650, 37700, 37710, 37760, 37920, 37930, 38010, 38060, 38100, 38110, 38120, 38310, 38390, 38400, 38420, 38430, 38460, 38490, 38520, 38560, 38570, 38600, 38750, 38760, 38800, 38810, 34210, 34220, 34230, 34240, 34250, 34260, 34270, 34280, 34290, 34300, 37530, 40180, 38860, 38280, 38290, 38300, 38310, 38390, 38400, 38410, 38440, 38460, 38470, 38490, 38540, 38560, 38580, 38570, 38590, 38600, 38630, 38750, 38760, 38800, 38810, 38800, 38840, 38880, 38710,31000, 31010, 31020, 31310, 31320, 31330, 31340, 31350, 31360, 31370, 31400, 31410, 31420, 31440, 31450, 31460, 31470, 31480, 31490, 31510, 31520, 31530, 31540, 31550, 31560, 31570, 31580, 31590, 31600, 31610, 31620, 31630, 31640, 31650, 31670, 31680, 31690, 31700, 31710, 31720, 31730, 31760, 31770, 31780, 31790, 31800, 31810, 31820, 31830, 31840, 31850, 31860, 31870, 31880, 31890, 31900, 31910, 31920, 31930, 31940, 31950, 31990, 32020, 32120, 32130, 32140, 33030, 33160, 33590, 34000, 34010, 34040, 34070, 34080, 34090, 34100, 34110, 34120, 34130, 34140, 34150, 34160, 34170, 34180, 34190, 34200,31890,31930,31990,37000,37010,37030,37060,37190,37210,37220,37230,37300,37310,37320,37370,37380,37400,37450,37510,37520,37530,37570,37080,37270,37340,37350,37610,37630,37640,37650,37670,37680,37700,37710,37720,37730,37740,37750,37760,37770,37780,37790,37800,37810,37820,37830,37840,37850,37860,37910,37940,37950,37960,37970,37980,37990,37150,39070,37410,38930);
var facenew = Array();
function start() {
    status = -1;
    action(1, 0, 0);
}

function action(mode, type, selection) {
    if (mode == -1) {
        cm.dispose();
    } else {
        if (mode == 0 && status == 0) {
            cm.dispose();
            return;
        }
        if (mode == 1)
            status++;
        else
            status--;
        if (status == 0) {
            cm.sendSimple("如果你有#b#v5150041##z5150041##k,就能抽到很好看的髮型囉!!\r\n#L1#我要使用#b#v5150041##k抽髮型");
        } else if (status == 1) {
            if (selection == 1) {
                if (cm.getPlayer().getGender() == 0) {
                    for (var i = 0; i < mface.length; i++) {
                        facenew.push(mface[i]);
                    }
                }
                if (cm.getPlayer().getGender() == 1) {
                    for (var i = 0; i < fface.length; i++) {
                        facenew.push(fface[i]);
                    }
                }
				if (cm.getPlayer().getGender() == 2) {
                    for (var i = 0; i < fface.length; i++) {
                        facenew.push(fface[i]);
                    }
				}
                cm.sendYesNo("注意!!!這是隨機抽獎唷!!你真的要抽看看嗎?");
            } else {
                cm.dispose();
            }
        } else if (status == 2) {
            if (cm.haveItem(5150041 ,1)) {
				cm.gainItem(5150041 , -1);
                
                cm.setHair(facenew[Math.floor(Math.random() * facenew.length)]);
                cm.sendOk("好了，是不是很牛逼呀。");
				//cm.worldMessage(6, "[魅力無限魔髮屍] " + " 玩家 " + cm.getChar().getName() + " 找我隨機兌換超屌髮型呢!!!!!!");
            } else {
                cm.sendOk("您貌似沒有#b傳說中的美髮券#k..請至購物商城購買。");
            }
            cm.dispose();
        }
    }
}
